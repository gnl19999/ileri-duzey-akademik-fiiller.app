<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kelime UygulamasÄ± v3 (Akademik CÃ¼mleler)</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700;900&display=swap" rel="stylesheet">
    <style>
        /* --- TEMEL AYARLAR --- */
        body {
            font-family: 'Roboto', sans-serif;
            background-color: #f4f6f8;
            margin: 0; padding: 0;
            display: flex; justify-content: center;
            min-height: 100vh;
        }

        .container {
            width: 100%; max-width: 450px;
            background-color: #fff; min-height: 100vh;
            position: relative; box-shadow: 0 0 20px rgba(0,0,0,0.05);
            overflow-x: hidden;
        }

        /* --- EKRAN GEÃ‡Ä°ÅžLERÄ° --- */
        .screen { display: none; padding: 20px; animation: fadeIn 0.3s; }
        .screen.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        /* --- ÃœNÄ°TE KARTLARI --- */
        .unit-card {
            background-color: white; border-radius: 12px; padding: 15px; margin-bottom: 15px;
            display: flex; align-items: center; box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            border: 1px solid #f0f0f0; cursor: pointer; transition: transform 0.2s;
        }
        .unit-card:hover { transform: translateY(-2px); }
        .circle {
            width: 50px; height: 50px; border-radius: 50%; display: flex;
            align-items: center; justify-content: center; color: white;
            font-weight: bold; font-size: 18px; margin-right: 15px; flex-shrink: 0;
        }
        /* Renkler */
        .bg-1 { background-color: #ff6b6b; } .bg-2 { background-color: #4ecdc4; }
        .bg-3 { background-color: #1a535c; } .bg-4 { background-color: #f7fff7; border: 1px solid #ccc; color:#333 !important; } 
        .bg-5 { background-color: #ffe66d; color:#333 !important; }

        .info h3 { margin: 0; font-size: 16px; color: #333; }
        .info p { margin: 3px 0 0 0; color: #95a5a6; font-size: 12px; }

        /* --- DETAY LÄ°STESÄ° --- */
        .detail-header { display: flex; align-items: center; margin-bottom: 20px; padding-bottom: 10px; border-bottom: 1px solid #eee; }
        .back-button { font-size: 24px; color: #333; cursor: pointer; margin-right: 15px; }
        .word-item {
            background-color: white; border-radius: 10px; padding: 15px; margin-bottom: 10px;
            display: flex; align-items: center; box-shadow: 0 1px 3px rgba(0,0,0,0.05);
            border: 1px solid #eee; cursor: pointer; transition: background 0.2s;
        }
        .word-item:active { background-color: #f5f5f5; }
        .word-icon {
            width: 40px; height: 40px; margin-right: 15px; border-radius: 8px;
            background-color: #f0f2f5; color: #555; display: flex;
            align-items: center; justify-content: center; font-size: 18px; font-weight: bold;
        }

        /* --- KELÄ°ME KARTI --- */
        #card-screen { padding: 0; height: 100vh; background-color: white; display: flex; flex-direction: column; }
        .card-top-bar { padding: 15px; display: flex; justify-content: flex-end; }
        .card-close-btn { font-size: 28px; color: #b0bec5; cursor: pointer; padding: 10px; }

        .card-content {
            padding: 0 20px 30px 20px; flex-grow: 1; display: flex;
            flex-direction: column; align-items: center;
        }

        .word-header { text-align: center; margin-bottom: 15px; width: 100%; }
        .main-word-row { display: flex; align-items: center; justify-content: center; gap: 10px; }
        .main-word { font-size: 38px; font-weight: 900; color: #2c3e50; margin: 0; letter-spacing: -1px; }
        .main-meaning { color: #7f8c8d; font-size: 20px; margin-top: 5px; font-weight: 400; }
        .speaker-icon { font-size: 24px; cursor: pointer; filter: grayscale(100%); transition: 0.2s; }
        .speaker-icon:hover { filter: grayscale(0%); }

        .card-image-container {
            width: 100%; height: 260px;
            margin: 10px 0 20px 0; border-radius: 16px; overflow: hidden;
            position: relative; background-color: #f0f0f0;
        }
        .card-image-container img { width: 100%; height: 100%; object-fit: cover; }
        .lightning-icon {
            position: absolute; right: 15px; bottom: 15px;
            color: #f1c40f; font-size: 24px; background: rgba(255,255,255,0.8);
            width: 40px; height: 40px; border-radius: 50%; display: flex;
            align-items: center; justify-content: center;
        }

        .example-box {
            width: 100%; background-color: #fafafa; border: 1px solid #eee;
            border-radius: 16px; padding: 20px; box-shadow: 0 4px 6px rgba(0,0,0,0.02);
            position: relative; margin-top: auto; margin-bottom: 40px; box-sizing: border-box;
        }
        .or-label {
            position: absolute; left: 20px; top: -12px; background: #fff; padding: 0 5px;
            color: #f39c12; font-weight: bold; font-size: 14px; border: 1px solid #eee; border-radius: 4px;
        }
        .highlight-word { color: #27ae60; font-weight: bold; background: #e8f5e9; padding: 0 2px; border-radius: 3px; }
        .divider { height: 1px; background-color: #eee; margin: 12px 0; }
    </style>
</head>
<body>

    <div class="container">
        <div id="list-screen" class="screen active">
            <h2 style="padding-left:5px; color:#2c3e50;">Ãœniteler</h2>
            <div id="units-container"></div>
        </div>

        <div id="detail-screen" class="screen">
            <div class="detail-header">
                <span class="back-button" onclick="showListScreen()">&#8592;</span> 
                <h2 id="detail-unit-title" style="margin:0; font-size:18px; color:#333;"></h2>
            </div>
            <ul id="unit-word-list" style="list-style:none; padding:0;"></ul>
            <div id="empty-message" style="display:none; text-align:center; color:#999; margin-top:50px;">
                Bu Ã¼nite henÃ¼z boÅŸ.
            </div>
        </div>

        <div id="card-screen" class="screen">
            <div class="card-top-bar">
                <span class="card-close-btn" onclick="closeCardScreen()">&#10005;</span>
            </div>
            <div class="card-content">
                <div class="word-header">
                    <div class="main-word-row">
                        <span class="speaker-icon" id="card-speaker-icon">ðŸ”Š</span>
                        <h1 id="card-word" class="main-word">...</h1>
                    </div>
                    <p id="card-meaning" class="main-meaning">...</p>
                </div>

                <div class="card-image-container">
                    <img id="card-image" src="" alt="GÃ¶rsel">
                    <div class="lightning-icon">âš¡</div>
                </div>

                <div class="example-box">
                    <span class="or-label">Ã–rnek</span>
                    <div>
                        <p id="card-sentence-en" style="color:#455a64; margin:0 0 5px 0; font-size:16px; line-height:1.4;"></p>
                        <div class="divider"></div>
                        <p id="card-sentence-tr" style="color:#90a4ae; margin:0; font-size:14px;"></p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // ======================================================
        // 1. VERÄ° YÃ–NETÄ°MÄ° (Kelimeler, Anlamlar ve Ã–zel CÃ¼mleler)
        // ======================================================
        
        // Yeni akademik kelimeler ve Ã¶zel cÃ¼mleleri iÃ§eren yapÄ±
        const newAcademicWords = [
            { en_verb: "Analyze", tr_verb: "Analiz Etmek", en_sentence: "The research aims to analyze the impact of climate change on coastal biodiversity over the last decade.", tr_sentence: "AraÅŸtÄ±rma, son on yÄ±lda iklim deÄŸiÅŸikliÄŸinin kÄ±yÄ± biyoÃ§eÅŸitliliÄŸi Ã¼zerindeki etkisini analiz etmeyi amaÃ§lamaktadÄ±r." },
            { en_verb: "Identify", tr_verb: "TanÄ±mlamak, Belirlemek", en_sentence: "Researchers were able to identify a clear correlation between screen time and reduced attention spans in adolescents.", tr_sentence: "AraÅŸtÄ±rmacÄ±lar, ergenlerde ekran sÃ¼resi ile azalan dikkat sÃ¼releri arasÄ±nda aÃ§Ä±k bir korelasyonu tanÄ±mlayabildiler (veya belirleyebildiler)." },
            { en_verb: "Determine", tr_verb: "Saptamak, Karar Vermek", en_sentence: "A detailed regression model was employed to determine the primary factors influencing consumer behavior.", tr_sentence: "TÃ¼ketici davranÄ±ÅŸlarÄ±nÄ± etkileyen temel faktÃ¶rleri saptamak iÃ§in ayrÄ±ntÄ±lÄ± bir regresyon modeli kullanÄ±ldÄ±." },
            { en_verb: "Establish", tr_verb: "Kurmak, OluÅŸturmak, Saptamak", en_sentence: "The study sought to establish a causal link between the new policy and the increase in unemployment rates.", tr_sentence: "Ã‡alÄ±ÅŸma, yeni politika ile artan iÅŸsizlik oranlarÄ± arasÄ±nda nedensel bir baÄŸlantÄ± kurmayÄ± amaÃ§ladÄ±." },
            { en_verb: "Investigate", tr_verb: "AraÅŸtÄ±rmak, Ä°ncelemek", en_sentence: "This paper will investigate the theoretical underpinnings of quantum entanglement in physics.", tr_sentence: "Bu makale, fizikteki kuantum dolanÄ±klÄ±ÄŸÄ±nÄ±n teorik temellerini araÅŸtÄ±racaktÄ±r (veya inceleyecektir)." },
            { en_verb: "Illustrate", tr_verb: "Ã–rneklemek, AÃ§Ä±klamak", en_sentence: "Figure 3 effectively illustrates the exponential growth curve observed in the experimental data.", tr_sentence: "Åžekil 3, deneysel verilerde gÃ¶zlemlenen Ã¼stel bÃ¼yÃ¼me eÄŸrisini etkili bir ÅŸekilde Ã¶rneklemektedir (veya aÃ§Ä±klamaktadÄ±r)." },
            { en_verb: "Demonstrate", tr_verb: "GÃ¶stermek, KanÄ±tlamak", en_sentence: "The results demonstrate that the novel therapeutic compound significantly inhibits viral replication.", tr_sentence: "SonuÃ§lar, yeni terapÃ¶tik bileÅŸiÄŸin viral Ã§oÄŸalmayÄ± Ã¶nemli Ã¶lÃ§Ã¼de engellediÄŸini gÃ¶stermektedir (veya kanÄ±tlamaktadÄ±r)." },
            { en_verb: "Evaluate", tr_verb: "DeÄŸerlendirmek", en_sentence: "The committee must evaluate the long-term sustainability of the proposed infrastructure project.", tr_sentence: "Komite, Ã¶nerilen altyapÄ± projesinin uzun vadeli sÃ¼rdÃ¼rÃ¼lebilirliÄŸini deÄŸerlendirmelidir." },
            { en_verb: "Synthesize", tr_verb: "Sentezlemek", en_sentence: "The chapter attempts to synthesize disparate findings from various subfields into a coherent framework.", tr_sentence: "BÃ¶lÃ¼m, Ã§eÅŸitli alt alanlardan gelen farklÄ± bulgularÄ± tutarlÄ± bir Ã§erÃ§evede sentezlemeye Ã§alÄ±ÅŸmaktadÄ±r." },
            { en_verb: "Formulate", tr_verb: "FormÃ¼le Etmek, GeliÅŸtirmek", en_sentence: "We need to formulate a robust hypothesis before commencing the data collection phase of the research.", tr_sentence: "AraÅŸtÄ±rmanÄ±n veri toplama aÅŸamasÄ±na baÅŸlamadan Ã¶nce saÄŸlam bir hipotez formÃ¼le etmemiz (veya geliÅŸtirmemiz) gerekiyor." },
            { en_verb: "Define", tr_verb: "TanÄ±mlamak", en_sentence: "The initial section of the thesis must clearly define the scope and key terminology used throughout the study.", tr_sentence: "Tezin ilk bÃ¶lÃ¼mÃ¼, Ã§alÄ±ÅŸma boyunca kullanÄ±lan kapsamÄ± ve temel terminolojiyi aÃ§Ä±kÃ§a tanÄ±mlamalÄ±dÄ±r." },
            { en_verb: "Compare", tr_verb: "KarÅŸÄ±laÅŸtÄ±rmak", en_sentence: "The methodology requires us to compare the performance of the traditional algorithm with the machine learning approach.", tr_sentence: "Metodoloji, geleneksel algoritmanÄ±n performansÄ±nÄ± makine Ã¶ÄŸrenimi yaklaÅŸÄ±mÄ±yla karÅŸÄ±laÅŸtÄ±rmamÄ±zÄ± gerektirmektedir." },
            { en_verb: "Contrast", tr_verb: "KarÅŸÄ±tlÄ±k Kurmak, FarklÄ±lÄ±klarÄ± Belirtmek", en_sentence: "This essay will contrast the economic policies of the two major political parties during the recent financial crisis.", tr_sentence: "Bu deneme, son mali kriz sÄ±rasÄ±ndaki iki bÃ¼yÃ¼k siyasi partinin ekonomi politikalarÄ±nÄ± karÅŸÄ±laÅŸtÄ±rarak farklÄ±lÄ±klarÄ±nÄ± belirtecektir (veya karÅŸÄ±tlÄ±k kuracaktÄ±r)." },
            { en_verb: "Argue", tr_verb: "TartÄ±ÅŸmak, Ä°ddia Etmek", en_sentence: "The author of the journal article argues convincingly for a shift towards renewable energy sources.", tr_sentence: "Dergi makalesinin yazarÄ±, yenilenebilir enerji kaynaklarÄ±na geÃ§iÅŸ lehine ikna edici bir ÅŸekilde iddiaya etmektedir (veya gÃ¶rÃ¼ÅŸÃ¼nÃ¼ savunmaktadÄ±r)." },
            { en_verb: "Support", tr_verb: "Desteklemek", en_sentence: "Numerous empirical studies support the theory that early intervention improves educational outcomes.", tr_sentence: "Ã‡ok sayÄ±da ampirik Ã§alÄ±ÅŸma, erken mÃ¼dahalenin eÄŸitim sonuÃ§larÄ±nÄ± iyileÅŸtirdiÄŸi teorisini desteklemektedir." },
            { en_verb: "Challenge", tr_verb: "Sorgulamak, Meydan Okumak", en_sentence: "Recent archaeological findings challenge the long-held assumption regarding the timeline of the ancient civilization.", tr_sentence: "Son arkeolojik bulgular, kadim uygarlÄŸÄ±n zaman Ã§izelgesi hakkÄ±ndaki kÃ¶klÃ¼ varsayÄ±mÄ± sorgulamaktadÄ±r (veya meydan okumaktadÄ±r)." },
            { en_verb: "Derive", tr_verb: "TÃ¼retmek, Elde Etmek", en_sentence: "The mathematical model allows us to derive an equation predicting the future state of the system.", tr_sentence: "Matematiksel model, sistemin gelecekteki durumunu tahmin eden bir denklemi tÃ¼retmemizi (veya elde etmemizi) saÄŸlamaktadÄ±r." },
            { en_verb: "Indicate", tr_verb: "Ä°ÅŸaret Etmek, GÃ¶stermek", en_sentence: "The preliminary data indicate a significant outlier that requires further examination.", tr_sentence: "Ã–n veriler, daha fazla inceleme gerektiren Ã¶nemli bir aykÄ±rÄ± deÄŸere iÅŸaret etmektedir (veya gÃ¶stermektedir)." },
            { en_verb: "Suggest", tr_verb: "Ã–ne SÃ¼rmek, Ã–nermek", en_sentence: "Based on the qualitative interviews, the data suggest a correlation, though not a definitive causation.", tr_sentence: "Nitel gÃ¶rÃ¼ÅŸmelere dayanarak, veriler kesin bir nedensellik olmasa da bir korelasyon Ã¶ne sÃ¼rmektedir (veya gÃ¶stermektedir)." },
            { en_verb: "Conclude", tr_verb: "SonuÃ§landÄ±rmak", en_sentence: "In light of the evidence, the study must conclude that the intervention had a negligible effect.", tr_sentence: "KanÄ±tlar Ä±ÅŸÄ±ÄŸÄ±nda, Ã§alÄ±ÅŸma mÃ¼dahalenin ihmal edilebilir bir etkiye sahip olduÄŸu sonucuna varmalÄ±dÄ±r (veya sonuÃ§landÄ±rmalÄ±dÄ±r)." }
        ];

        // Temel fiiller (Yeni akademik yapÄ±yÄ± desteklemek iÃ§in formatlarÄ± deÄŸiÅŸtirildi)
        const baseVerbs = [
            { en_verb: "hide", tr_verb: "saklamak", en_sentence: "I like to {hide} small things in the garden.", tr_sentence: "BahÃ§eye kÃ¼Ã§Ã¼k ÅŸeyler saklamayÄ± severim." },
            { en_verb: "run", tr_verb: "koÅŸmak", en_sentence: "We should {run} faster to catch the bus.", tr_sentence: "OtobÃ¼sÃ¼ yakalamak iÃ§in daha hÄ±zlÄ± koÅŸmalÄ±yÄ±z." },
            { en_verb: "eat", tr_verb: "yemek yemek", en_sentence: "Do you want to {eat} pizza tonight?", tr_sentence: "Bu gece pizza yemek ister misin?" },
            { en_verb: "drink", tr_verb: "iÃ§mek", en_sentence: "She needs to {drink} more water during the day.", tr_sentence: "GÃ¼ndÃ¼zleri daha fazla su iÃ§mesi gerekiyor." },
            { en_verb: "sleep", tr_verb: "uyumak", en_sentence: "I always {sleep} late on weekends.", tr_sentence: "Hafta sonlarÄ± her zaman geÃ§ uyurum." }
        ];

        // TÃ¼m kelime verilerini birleÅŸtirme
        const unit1Words = [...baseVerbs, ...newAcademicWords];

        const unitDatabase = {
            1: unit1Words.map(item => [item.en_verb, item.tr_verb]), // Liste ekranÄ± iÃ§in eski formatÄ± koruyoruz
            // Ãœnite 2: DoÄŸa
            2: [
                ["tree", "aÄŸaÃ§"],
                ["ocean", "okyanus"],
                ["mountain", "daÄŸ"],
                ["flower", "Ã§iÃ§ek"],
                ["rain", "yaÄŸmur"]
            ],
            // Ãœnite 3: Ev EÅŸyalarÄ±
            3: [
                ["chair", "sandalye"],
                ["table", "masa"],
                ["bed", "yatak"],
                ["lamp", "lamba"],
                ["window", "pencere"]
            ],
            // Ãœnite 4: Teknoloji
            4: [
                ["computer", "bilgisayar"],
                ["phone", "telefon"],
                ["camera", "kamera"],
                ["robot", "robot"],
                ["screen", "ekran"]
            ]
        };

        // Demo AmaÃ§lÄ±: BoÅŸ Ã¼niteleri sahte veriyle dolduralÄ±m ki liste dolu gÃ¶rÃ¼nsÃ¼n
        for (let i = 5; i <= 20; i++) {
            unitDatabase[i] = [
                ["example", "Ã¶rnek"],
                ["test", "deneme"],
                ["word", "kelime"]
            ];
        }
        
        // Veri kaynaÄŸÄ±ndan kelimenin tam obje formatÄ±nÄ± getirme fonksiyonu (yeni)
        function getWordFullData(word) {
            // Sadece Ãœnite 1'deki tam veriye ihtiyacÄ±mÄ±z var, diÄŸerleri otomatiktir
            if (unit1Words.find(item => item.en_verb === word)) {
                return unit1Words.find(item => item.en_verb === word);
            }
            return null;
        }


        // ======================================================        
        // 2. OTOMATÄ°K Ä°Ã‡ERÄ°K OLUÅžTURUCU (AI & ÅžABLONLAR)        
        // ======================================================                

        function processWordData(word, meaning) {
            
            // 1. TAM VERÄ° KONTROLÃœ: EÄŸer manuel girilmiÅŸ Ã¶zel cÃ¼mle varsa, onu kullan.
            const fullData = getWordFullData(word);
            let finalEn = fullData ? fullData.en_sentence : "";
            let finalTr = fullData ? fullData.tr_sentence : "";

            // -----------------------------------------------------
            // A. Otomatik GÃ¶rsel (Ã–zelleÅŸtirilmiÅŸ Prompt YÃ¶netimi)
            // -----------------------------------------------------
            let promptBase = "minimalist%20flat%20vector%20art%20of%20";
            let promptSuffix = "%20isolated%20white%20background";
            const academicWords = newAcademicWords.map(item => item.en_verb);

            if (academicWords.includes(word)) {
                // Akademik kelimeler iÃ§in daha soyut ve kavramsal gÃ¶rseller
                promptBase = "concept%20illustration%20of%20";
                promptSuffix = "%20abstract%20graphic%20design%20data%20analysis";
            }
            
            const imgUrl = `https://image.pollinations.ai/prompt/${promptBase}${word}${promptSuffix}?width=400&height=300&nologo=true`;

            // -----------------------------------------------------
            // B. CÃ¼mle Ä°ÅŸleme (Kelimeyi vurgulama)
            // -----------------------------------------------------

            // EÄŸer cÃ¼mleler otomatikten gelmediyse (yani fullData'dan geldiyse)
            if (fullData) {
                // Ã–zel cÃ¼mlede kelimeyi bulup {} iÃ§ine alarak highlight'a hazÄ±rla
                // Ã–rneÄŸin "The research aims to analyze..." -> "The research aims to {analyze}..."
                const regex = new RegExp(`\\b${word}\\b`, 'i'); 
                finalEn = finalEn.replace(regex, `{${word}}`);
            } else {
                 // Otomatik oluÅŸturulan kelimeler iÃ§in (Åžu anki yapÄ±da sadece 5'ten sonrasÄ±)
                 finalEn = finalEn.replace("{word}", `{${word}}`);
            }


            return {
                word: word,
                meaning: meaning,
                image: imgUrl,
                sentenceEn: finalEn, 
                sentenceTr: finalTr
            };
        }

        // --- SESLENDÄ°RME FONKSÄ°YONU ---        
        function speakWord(word) {            
            if ('speechSynthesis' in window) {                
                const utterance = new SpeechSynthesisUtterance(word);                
                // Ä°ngilizce iÃ§in 'en-US' ayarÄ±                
                utterance.lang = 'en-US';                 
                window.speechSynthesis.speak(utterance);            
            } else {                
                console.warn('TarayÄ±cÄ± seslendirmeyi desteklemiyor.');            
            }        
        }


        // ======================================================        
        // 3. ARAYÃœZ FONKSÄ°YONLARI        
        // ======================================================
        const listScreen = document.getElementById('list-screen');        
        const detailScreen = document.getElementById('detail-screen');        
        const cardScreen = document.getElementById('card-screen');
        
        function switchScreen(screen) {            
            listScreen.classList.remove('active'); listScreen.style.display = 'none';            
            detailScreen.classList.remove('active'); detailScreen.style.display = 'none';            
            cardScreen.classList.remove('active'); cardScreen.style.display = 'none';                        
            screen.style.display = 'block';            
            setTimeout(() => screen.classList.add('active'), 10);        
        }
        
        // --- Ãœnite Listesini OluÅŸtur ---        
        function initUnitList() {            
            const container = document.getElementById('units-container');            
            const totalUnits = 20;            
            const colors = ['bg-1', 'bg-2', 'bg-3', 'bg-4', 'bg-5'];
            
            for (let i = 1; i <= totalUnits; i++) {                
                const color = colors[(i - 1) % colors.length];                
                const wordCount = unitDatabase[i] ? unitDatabase[i].length : 0;                                
                const card = document.createElement('div');                
                card.className = 'unit-card';                
                card.onclick = () => openUnit(i);                
                card.innerHTML = `                    
                    <div class="circle ${color}">${i}</div>                    
                    <div class="info">                        
                        <h3>Ãœnite ${i}</h3>                        
                        <p>${wordCount} kelime</p>                    
                    </div>                
                `;                
                container.appendChild(card);            
            }        
        }
        
        // --- Ãœnite DetayÄ±nÄ± AÃ§ ---        
        function openUnit(unitId) {            
            document.getElementById('detail-unit-title').innerText = `Ãœnite ${unitId} Kelimeleri`;            
            const listContainer = document.getElementById('unit-word-list');            
            const emptyMsg = document.getElementById('empty-message');            
            listContainer.innerHTML = '';
            
            const rawWords = unitDatabase[unitId];
            
            if (!rawWords || rawWords.length === 0) {                
                emptyMsg.style.display = 'block';            
            } else {                
                emptyMsg.style.display = 'none';                                
                rawWords.forEach(pair => {                    
                    const li = document.createElement('li');                    
                    li.className = 'word-item';                                        
                    li.dataset.word = pair[0];                    
                    li.dataset.meaning = pair[1];                                        
                    li.onclick = function() {                        
                        const w = this.dataset.word;                        
                        const m = this.dataset.meaning;                        
                        openCard(processWordData(w, m));                    
                    };                                        
                    const initial = pair[0].charAt(0).toUpperCase();                                        
                    li.innerHTML = `                        
                        <div class="word-icon">${initial}</div>                        
                        <div style="flex-grow:1">                            
                            <div style="font-weight:bold; color:#333; font-size:16px;">${pair[0]}</div>                            
                            <div style="font-size:14px; color:#777;">${pair[1]}</div>                        
                        </div>                        
                        <span style="color:#ddd;">&#10095;</span>                    
                    `;                    
                    listContainer.appendChild(li);                
                });            
            }            
            switchScreen(detailScreen);        
        }
        
        // --- KartÄ± AÃ§ ---        
        function openCard(data) {            
            document.getElementById('card-word').innerText = data.word;            
            document.getElementById('card-meaning').innerText = data.meaning;                        
            
            // CÃ¼mledeki {kelime} kÄ±sÄ±mlarÄ±nÄ± renklendirilmiÅŸ span'e Ã§evirir.
            const formattedEn = data.sentenceEn.replace(/{(\w+)}/g, '<span class="highlight-word">$1</span>');
            document.getElementById('card-sentence-en').innerHTML = formattedEn;            
            document.getElementById('card-sentence-tr').innerText = data.sentenceTr;                        
            
            const img = document.getElementById('card-image');            
            img.src = data.image;
            
            document.getElementById('card-speaker-icon').onclick = () => speakWord(data.word);
            
            switchScreen(cardScreen);        
        }
        
        function showListScreen() { switchScreen(listScreen); }        
        function closeCardScreen() { switchScreen(detailScreen); }
        
        // UygulamayÄ± BaÅŸlat        
        initUnitList();
    </script> 
</body> 
</html>
